{"ast":null,"code":"import _slicedToArray from\"C:/Users/param/OneDrive/Documents/sem3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{getApiPath,getLoggedInUser}from\"../../Common\";import Footer from\"../Footer/Footer\";import Header from\"../Header/Header\";import\"./AllReport.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllReports=function AllReports(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userComplaints=_useState2[0],setUserComplaints=_useState2[1];useEffect(function(e){var loggedInUser=getLoggedInUser();if(loggedInUser!==\"\"){var fetchReportUrl=getApiPath()+\"complaint/getReports/\".concat(loggedInUser._id);axios.get(fetchReportUrl).then(function(res){console.log(res.data.complaints);setUserComplaints(res.data.complaints);}).catch(function(err){alert(\"Unable to fetch requested complaints\");console.log(err);});}},[]);var RenderState=function RenderState(complaintState){if(complaintState==0){return\"show-flag Emergency\";}else if(complaintState==1){return\"show-flag High\";}else{return\"show-flag Moderate \";}};var RenderComplaints=function RenderComplaints(){var loggedInUser=getLoggedInUser();if(loggedInUser!==\"\"){return userComplaints.map(function(complaints,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"caseWrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:complaints.Image,alt:complaints.title,className:\"complaints-image\"}),/*#__PURE__*/_jsx(\"h2\",{children:complaints.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-address\",children:complaints.address}),/*#__PURE__*/_jsx(\"p\",{children:complaints.description}),/*#__PURE__*/_jsx(\"p\",{className:\"StatusBtn\",id:\"\".concat(complaints.state),children:complaints.state}),/*#__PURE__*/_jsx(\"p\",{className:RenderState(complaints.priority),children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"38\",height:\"38\",viewBox:\"0 0 38 38\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M16.363 34.58L2.46922 20.6862C1.23422 19.4512 1.23422 17.5216 2.46922 16.2866L16.363 2.3928C17.598 1.1578 19.5277 1.1578 20.7627 2.3928L34.6564 16.2866C35.8914 17.5216 35.8914 19.4512 34.6564 20.6862L20.7627 34.58C19.5277 35.815 17.5208 35.815 16.363 34.58Z\",fill:\"#F44336\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16.6719 25.2404C16.6719 25.0088 16.7491 24.7772 16.8262 24.5457C16.9034 24.3141 17.0578 24.1597 17.2122 24.0054C17.3666 23.851 17.5981 23.6966 17.8297 23.6194C18.0613 23.5422 18.2928 23.465 18.6016 23.465C18.9103 23.465 19.1419 23.5422 19.3734 23.6194C19.605 23.6966 19.8366 23.851 19.9909 24.0054C20.1453 24.1597 20.2997 24.3141 20.3769 24.5457C20.4541 24.7772 20.5313 25.0088 20.5313 25.2404C20.5313 25.4719 20.4541 25.7035 20.3769 25.935C20.2997 26.1666 20.1453 26.321 19.9909 26.4754C19.8366 26.6297 19.605 26.7841 19.3734 26.8613C19.1419 26.9385 18.9103 27.0157 18.6016 27.0157C18.2928 27.0157 18.0613 26.9385 17.8297 26.8613C17.5981 26.7841 17.4437 26.6297 17.2122 26.4754C17.0578 26.321 16.9034 26.1666 16.8262 25.935C16.7491 25.7035 16.6719 25.5491 16.6719 25.2404ZM19.9137 21.6897H17.135L16.7491 10.0344H20.2997L19.9137 21.6897V21.6897Z\",fill:\"white\"})]})})]},idx);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"AllReports\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Reports\"}),RenderComplaints()]}),/*#__PURE__*/_jsx(Footer,{})]});};export default AllReports;","map":{"version":3,"names":["axios","React","useEffect","useState","getApiPath","getLoggedInUser","Footer","Header","AllReports","userComplaints","setUserComplaints","e","loggedInUser","fetchReportUrl","_id","get","then","res","console","log","data","complaints","catch","err","alert","RenderState","complaintState","RenderComplaints","map","idx","Image","title","address","description","state","priority"],"sources":["C:/Users/param/OneDrive/Documents/sem3/client/src/components/Complaint/AllReports.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getApiPath, getLoggedInUser } from \"../../Common\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Header from \"../Header/Header\";\r\nimport \"./AllReport.css\";\r\n\r\nconst AllReports = () => {\r\n  const [userComplaints, setUserComplaints] = useState([]);\r\n  useEffect((e) => {\r\n    let loggedInUser = getLoggedInUser();\r\n    if (loggedInUser !== \"\") {\r\n      const fetchReportUrl =\r\n        getApiPath() + `complaint/getReports/${loggedInUser._id}`;\r\n      axios\r\n        .get(fetchReportUrl)\r\n        .then((res) => {\r\n          console.log(res.data.complaints);\r\n          setUserComplaints(res.data.complaints);\r\n        })\r\n        .catch((err) => {\r\n          alert(\"Unable to fetch requested complaints\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const RenderState = (complaintState) => {\r\n    if (complaintState == 0) {\r\n      return \"show-flag Emergency\";\r\n    } else if (complaintState == 1) {\r\n      return \"show-flag High\";\r\n    } else {\r\n      return \"show-flag Moderate \";\r\n    }\r\n  };\r\n\r\n  const RenderComplaints = () => {\r\n    let loggedInUser = getLoggedInUser();\r\n    if (loggedInUser !== \"\") {\r\n      return userComplaints.map((complaints, idx) => {\r\n        return (\r\n          <div key={idx} className=\"caseWrapper\">\r\n            <img\r\n              src={complaints.Image}\r\n              alt={complaints.title}\r\n              className=\"complaints-image\"\r\n            />\r\n            <h2>{complaints.title}</h2>\r\n            <p className=\"card-address\">{complaints.address}</p>\r\n            <p>{complaints.description}</p>\r\n            <p className=\"StatusBtn\" id={`${complaints.state}`}>\r\n              {complaints.state}\r\n            </p>\r\n            <p className={RenderState(complaints.priority)}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"38\"\r\n                height=\"38\"\r\n                viewBox=\"0 0 38 38\"\r\n                fill=\"none\"\r\n              >\r\n                <path\r\n                  d=\"M16.363 34.58L2.46922 20.6862C1.23422 19.4512 1.23422 17.5216 2.46922 16.2866L16.363 2.3928C17.598 1.1578 19.5277 1.1578 20.7627 2.3928L34.6564 16.2866C35.8914 17.5216 35.8914 19.4512 34.6564 20.6862L20.7627 34.58C19.5277 35.815 17.5208 35.815 16.363 34.58Z\"\r\n                  fill=\"#F44336\"\r\n                />\r\n                <path\r\n                  d=\"M16.6719 25.2404C16.6719 25.0088 16.7491 24.7772 16.8262 24.5457C16.9034 24.3141 17.0578 24.1597 17.2122 24.0054C17.3666 23.851 17.5981 23.6966 17.8297 23.6194C18.0613 23.5422 18.2928 23.465 18.6016 23.465C18.9103 23.465 19.1419 23.5422 19.3734 23.6194C19.605 23.6966 19.8366 23.851 19.9909 24.0054C20.1453 24.1597 20.2997 24.3141 20.3769 24.5457C20.4541 24.7772 20.5313 25.0088 20.5313 25.2404C20.5313 25.4719 20.4541 25.7035 20.3769 25.935C20.2997 26.1666 20.1453 26.321 19.9909 26.4754C19.8366 26.6297 19.605 26.7841 19.3734 26.8613C19.1419 26.9385 18.9103 27.0157 18.6016 27.0157C18.2928 27.0157 18.0613 26.9385 17.8297 26.8613C17.5981 26.7841 17.4437 26.6297 17.2122 26.4754C17.0578 26.321 16.9034 26.1666 16.8262 25.935C16.7491 25.7035 16.6719 25.5491 16.6719 25.2404ZM19.9137 21.6897H17.135L16.7491 10.0344H20.2997L19.9137 21.6897V21.6897Z\"\r\n                  fill=\"white\"\r\n                />\r\n              </svg>\r\n            </p>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"AllReports\">\r\n        <h1>All Reports</h1>\r\n        {RenderComplaints()}\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllReports;\r\n"],"mappings":"mIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,eAArB,KAA4C,cAA5C,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAO,iBAAP,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,cAA4CL,QAAQ,CAAC,EAAD,CAApD,wCAAOM,cAAP,eAAuBC,iBAAvB,eACAR,SAAS,CAAC,SAACS,CAAD,CAAO,CACf,GAAIC,aAAY,CAAGP,eAAe,EAAlC,CACA,GAAIO,YAAY,GAAK,EAArB,CAAyB,CACvB,GAAMC,eAAc,CAClBT,UAAU,kCAA6BQ,YAAY,CAACE,GAA1C,CADZ,CAEAd,KAAK,CACFe,GADH,CACOF,cADP,EAEGG,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,UAArB,EACAX,iBAAiB,CAACO,GAAG,CAACG,IAAJ,CAASC,UAAV,CAAjB,CACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,CAAS,CACdC,KAAK,CAAC,sCAAD,CAAL,CACAN,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACD,CATH,EAUD,CACF,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,GAAME,YAAW,CAAG,QAAdA,YAAc,CAACC,cAAD,CAAoB,CACtC,GAAIA,cAAc,EAAI,CAAtB,CAAyB,CACvB,MAAO,qBAAP,CACD,CAFD,IAEO,IAAIA,cAAc,EAAI,CAAtB,CAAyB,CAC9B,MAAO,gBAAP,CACD,CAFM,IAEA,CACL,MAAO,qBAAP,CACD,CACF,CARD,CAUA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,GAAIf,aAAY,CAAGP,eAAe,EAAlC,CACA,GAAIO,YAAY,GAAK,EAArB,CAAyB,CACvB,MAAOH,eAAc,CAACmB,GAAf,CAAmB,SAACP,UAAD,CAAaQ,GAAb,CAAqB,CAC7C,mBACE,aAAe,SAAS,CAAC,aAAzB,wBACE,YACE,GAAG,CAAER,UAAU,CAACS,KADlB,CAEE,GAAG,CAAET,UAAU,CAACU,KAFlB,CAGE,SAAS,CAAC,kBAHZ,EADF,cAME,oBAAKV,UAAU,CAACU,KAAhB,EANF,cAOE,UAAG,SAAS,CAAC,cAAb,UAA6BV,UAAU,CAACW,OAAxC,EAPF,cAQE,mBAAIX,UAAU,CAACY,WAAf,EARF,cASE,UAAG,SAAS,CAAC,WAAb,CAAyB,EAAE,WAAKZ,UAAU,CAACa,KAAhB,CAA3B,UACGb,UAAU,CAACa,KADd,EATF,cAYE,UAAG,SAAS,CAAET,WAAW,CAACJ,UAAU,CAACc,QAAZ,CAAzB,uBACE,aACE,KAAK,CAAC,4BADR,CAEE,KAAK,CAAC,IAFR,CAGE,MAAM,CAAC,IAHT,CAIE,OAAO,CAAC,WAJV,CAKE,IAAI,CAAC,MALP,wBAOE,aACE,CAAC,CAAC,mQADJ,CAEE,IAAI,CAAC,SAFP,EAPF,cAWE,aACE,CAAC,CAAC,g1BADJ,CAEE,IAAI,CAAC,OAFP,EAXF,GADF,EAZF,GAAUN,GAAV,CADF,CAiCD,CAlCM,CAAP,CAmCD,CACF,CAvCD,CAyCA,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,mCADF,CAEGF,gBAAgB,EAFnB,GAFF,cAME,KAAC,MAAD,IANF,GADF,CAUD,CAjFD,CAmFA,cAAenB,WAAf"},"metadata":{},"sourceType":"module"}