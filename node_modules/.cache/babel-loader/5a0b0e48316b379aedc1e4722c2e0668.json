{"ast":null,"code":"import _toConsumableArray from\"C:/Users/param/OneDrive/Documents/sem3/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/param/OneDrive/Documents/sem3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{getApiPath,getToken}from\"../../Common\";import Footer from\"../Footer/Footer\";import Header from\"../Header/Header\";import SingleEvent from\"./SingleEvent\";import\"./WishlistedEvent.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllEvents=function AllEvents(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),whislistedEvents=_useState2[0],setWhishlistedEvents=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selectedEvent=_useState4[0],setSelectedEvent=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),popUp=_useState6[0],setPopUp=_useState6[1];var PopUpContent=\"\";useEffect(function(){var userToken=getToken();if(userToken!==null&&userToken!==\"undefined\"&&userToken!==\"\"){for(var index=0;index<userToken.user.whistlist.length;index++){var eventURl=getApiPath()+\"event/getById/\".concat(userToken.user.whistlist[index]);axios.get(eventURl).then(function(res){setWhishlistedEvents(function(whislistedEvents){return[].concat(_toConsumableArray(whislistedEvents),[res.data]);});});}}},[setWhishlistedEvents]);var TogglePopUp=function TogglePopUp(){setPopUp(!popUp);};if(popUp){PopUpContent=/*#__PURE__*/_jsx(SingleEvent,{TogglePopUp:TogglePopUp,eventData:selectedEvent});}return/*#__PURE__*/_jsxs(\"div\",{className:\"wishlisted-events\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Whishlisted Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"AllEventsWrapper\",children:whislistedEvents.map(function(whishlistEvent,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"eventWrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:whishlistEvent.Image,alt:whishlistEvent.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-body\",children:[/*#__PURE__*/_jsx(\"h2\",{children:whishlistEvent.title}),/*#__PURE__*/_jsx(\"p\",{children:whishlistEvent.description}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-eventt-details\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();setSelectedEvent(whishlistEvent);TogglePopUp();},children:\"Event Details\"})})]})]},idx);})}),PopUpContent,/*#__PURE__*/_jsx(Footer,{})]});};export default AllEvents;","map":{"version":3,"names":["axios","React","useEffect","useState","getApiPath","getToken","Footer","Header","SingleEvent","AllEvents","whislistedEvents","setWhishlistedEvents","selectedEvent","setSelectedEvent","popUp","setPopUp","PopUpContent","userToken","index","user","whistlist","length","eventURl","get","then","res","data","TogglePopUp","map","whishlistEvent","idx","Image","title","description","e","preventDefault"],"sources":["C:/Users/param/OneDrive/Documents/sem3/client/src/components/Event/AllEvents.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getApiPath, getToken } from \"../../Common\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport Header from \"../Header/Header\";\r\nimport SingleEvent from \"./SingleEvent\";\r\nimport \"./WishlistedEvent.css\";\r\nconst AllEvents = () => {\r\n  let [whislistedEvents, setWhishlistedEvents] = useState([]);\r\n  let [selectedEvent, setSelectedEvent] = useState({});\r\n\r\n  let [popUp, setPopUp] = useState(false);\r\n  let PopUpContent = \"\";\r\n  useEffect(() => {\r\n    let userToken = getToken();\r\n    if (userToken !== null && userToken !== \"undefined\" && userToken !== \"\") {\r\n      for (let index = 0; index < userToken.user.whistlist.length; index++) {\r\n        let eventURl =\r\n          getApiPath() + `event/getById/${userToken.user.whistlist[index]}`;\r\n        axios.get(eventURl).then((res) => {\r\n          setWhishlistedEvents((whislistedEvents) => [\r\n            ...whislistedEvents,\r\n            res.data,\r\n          ]);\r\n        });\r\n      }\r\n    }\r\n  }, [setWhishlistedEvents]);\r\n\r\n  const TogglePopUp = () => {\r\n    setPopUp(!popUp);\r\n  };\r\n\r\n  if (popUp) {\r\n    PopUpContent = (\r\n      <SingleEvent TogglePopUp={TogglePopUp} eventData={selectedEvent} />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"wishlisted-events\">\r\n      <Header />\r\n      <h1>Whishlisted Events</h1>\r\n      <div className=\"AllEventsWrapper\">\r\n        {whislistedEvents.map((whishlistEvent, idx) => {\r\n          return (\r\n            <div className=\"eventWrapper\" key={idx}>\r\n              <img src={whishlistEvent.Image} alt={whishlistEvent.title} />\r\n              <div className=\"event-body\">\r\n                <h2>{whishlistEvent.title}</h2>\r\n                <p>{whishlistEvent.description}</p>\r\n                <div className=\"btn-eventt-details\">\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      setSelectedEvent(whishlistEvent);\r\n                      TogglePopUp();\r\n                    }}\r\n                  >\r\n                    Event Details\r\n                  </button>\r\n              </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {PopUpContent}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllEvents;\r\n"],"mappings":"8QAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,cAArC,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAO,uBAAP,C,wFACA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,cAA+CN,QAAQ,CAAC,EAAD,CAAvD,wCAAKO,gBAAL,eAAuBC,oBAAvB,eACA,eAAwCR,QAAQ,CAAC,EAAD,CAAhD,yCAAKS,aAAL,eAAoBC,gBAApB,eAEA,eAAwBV,QAAQ,CAAC,KAAD,CAAhC,yCAAKW,KAAL,eAAYC,QAAZ,eACA,GAAIC,aAAY,CAAG,EAAnB,CACAd,SAAS,CAAC,UAAM,CACd,GAAIe,UAAS,CAAGZ,QAAQ,EAAxB,CACA,GAAIY,SAAS,GAAK,IAAd,EAAsBA,SAAS,GAAK,WAApC,EAAmDA,SAAS,GAAK,EAArE,CAAyE,CACvE,IAAK,GAAIC,MAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGD,SAAS,CAACE,IAAV,CAAeC,SAAf,CAAyBC,MAArD,CAA6DH,KAAK,EAAlE,CAAsE,CACpE,GAAII,SAAQ,CACVlB,UAAU,2BAAsBa,SAAS,CAACE,IAAV,CAAeC,SAAf,CAAyBF,KAAzB,CAAtB,CADZ,CAEAlB,KAAK,CAACuB,GAAN,CAAUD,QAAV,EAAoBE,IAApB,CAAyB,SAACC,GAAD,CAAS,CAChCd,oBAAoB,CAAC,SAACD,gBAAD,qCAChBA,gBADgB,GAEnBe,GAAG,CAACC,IAFe,IAAD,CAApB,CAID,CALD,EAMD,CACF,CACF,CAdQ,CAcN,CAACf,oBAAD,CAdM,CAAT,CAgBA,GAAMgB,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBZ,QAAQ,CAAC,CAACD,KAAF,CAAR,CACD,CAFD,CAIA,GAAIA,KAAJ,CAAW,CACTE,YAAY,cACV,KAAC,WAAD,EAAa,WAAW,CAAEW,WAA1B,CAAuC,SAAS,CAAEf,aAAlD,EADF,CAGD,CAED,mBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,KAAC,MAAD,IADF,cAEE,0CAFF,cAGE,YAAK,SAAS,CAAC,kBAAf,UACGF,gBAAgB,CAACkB,GAAjB,CAAqB,SAACC,cAAD,CAAiBC,GAAjB,CAAyB,CAC7C,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,GAAG,CAAED,cAAc,CAACE,KAAzB,CAAgC,GAAG,CAAEF,cAAc,CAACG,KAApD,EADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,oBAAKH,cAAc,CAACG,KAApB,EADF,cAEE,mBAAIH,cAAc,CAACI,WAAnB,EAFF,cAGE,YAAK,SAAS,CAAC,oBAAf,uBACE,eACE,OAAO,CAAE,iBAACC,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACAtB,gBAAgB,CAACgB,cAAD,CAAhB,CACAF,WAAW,GACZ,CALH,2BADF,EAHF,GAFF,GAAmCG,GAAnC,CADF,CAoBD,CArBA,CADH,EAHF,CA2BGd,YA3BH,cA4BE,KAAC,MAAD,IA5BF,GADF,CAgCD,CAhED,CAkEA,cAAeP,UAAf"},"metadata":{},"sourceType":"module"}