{"ast":null,"code":"import _slicedToArray from\"C:/Users/param/OneDrive/Documents/sem3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import ReactPaginate from\"react-paginate\";import axios from\"axios\";import\"./pagination.css\";import NGOEventCard from\"../cards/NGOEventCard\";import NGORequestCard from\"../cards/NGORequestCard\";import SingleEvent from\"../Event/SingleEvent\";//  Component Props\n// apiUrl : api url for which to connect\n// PerPage : number of cards you wanna show per page\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pagination=function Pagination(props){// States to handle\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var pageName=props.cardName;// console.log(pageName);\nvar PerPage=props.PerPage?props.PerPage:6;var apiUrl=props.apiUrl?props.apiUrl:\"\";var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),selectedEvent=_useState6[0],setSelectedEvent=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),popUp=_useState8[0],setPopUp=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),initialText=_useState10[0],setInitialText=_useState10[1];// Loading data\nuseEffect(function(){setInitialText(props.initialText);axios.get(apiUrl).then(function(result){setData(result.data);if(pageName===\"NGO-Home\"){setData(result.data.complaints);}});},[apiUrl,setData,setInitialText]);// Handle page click\nfunction handlePageClick(_ref){var selectedPage=_ref.selected;setCurrentPage(selectedPage);}var TogglePopUp=function TogglePopUp(event){setSelectedEvent(event);setPopUp(!popUp);};var PopUpContent;if(popUp){PopUpContent=/*#__PURE__*/_jsx(SingleEvent,{TogglePopUp:TogglePopUp,eventData:selectedEvent});}var HandleDropDownEvent=function HandleDropDownEvent(option,reportId){props.HandleComplaintDropDown(option,reportId);};var ShowOnMapEvent=function ShowOnMapEvent(e,location){props.ShowOnMap(e,location);};var offset=currentPage*PerPage;var currentPageData;if(pageName===\"NGO-Home\"){currentPageData=data.sort(function(a,b){return a.reportDate.getTime()-b.reportDate.getTime();}).slice(offset,offset+PerPage).map(function(result,index){console.log(result.reportDate);return/*#__PURE__*/_jsx(NGORequestCard,{result:result,options:props.options,ShowOnMap:ShowOnMapEvent,initialText:initialText,HandleComplaintDropDown:HandleDropDownEvent,index:index},index);});}else if(pageName===\"EventForm\"){currentPageData=data.sort(function(a,b){return a.reportDate.getTime()-b.reportDate.getTime();}).slice(offset,offset+PerPage).map(function(result,index){return/*#__PURE__*/_jsx(NGOEventCard,{index:index,TogglePopUp:TogglePopUp,result:result},index);});}// total pages Calculator\nvar pageCount=Math.ceil(data.length/PerPage);return/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-component\",children:[currentPageData,PopUpContent,/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"<\",nextLabel:\">\",pageCount:pageCount,onPageChange:handlePageClick,containerClassName:\"pagination-nav-container\",previousLinkClassName:\"pagination-prev\",nextLinkClassName:\"pagination-next\",disabledClassName:\"pagination-disabled\",activeClassName:\"pagination-active\"})]});};export default Pagination;","map":{"version":3,"names":["React","useEffect","useState","ReactPaginate","axios","NGOEventCard","NGORequestCard","SingleEvent","Pagination","props","currentPage","setCurrentPage","data","setData","pageName","cardName","PerPage","apiUrl","selectedEvent","setSelectedEvent","popUp","setPopUp","initialText","setInitialText","get","then","result","complaints","handlePageClick","selectedPage","selected","TogglePopUp","event","PopUpContent","HandleDropDownEvent","option","reportId","HandleComplaintDropDown","ShowOnMapEvent","e","location","ShowOnMap","offset","currentPageData","sort","a","b","reportDate","getTime","slice","map","index","console","log","options","pageCount","Math","ceil","length"],"sources":["C:/Users/param/OneDrive/Documents/sem3/client/src/components/PaginationComponent/Pagination.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport axios from \"axios\";\r\nimport \"./pagination.css\";\r\nimport NGOEventCard from \"../cards/NGOEventCard\";\r\nimport NGORequestCard from \"../cards/NGORequestCard\";\r\nimport SingleEvent from \"../Event/SingleEvent\";\r\n\r\n//  Component Props\r\n\r\n// apiUrl : api url for which to connect\r\n\r\n// PerPage : number of cards you wanna show per page\r\n\r\nconst Pagination = (props) => {\r\n  // States to handle\r\n  let [currentPage, setCurrentPage] = useState(0);\r\n  const [data, setData] = useState([]);\r\n  const pageName = props.cardName;\r\n  // console.log(pageName);\r\n\r\n  const PerPage = props.PerPage ? props.PerPage : 6;\r\n  const apiUrl = props.apiUrl ? props.apiUrl : \"\";\r\n  let [selectedEvent, setSelectedEvent] = useState({});\r\n  let [popUp, setPopUp] = useState(false);\r\n\r\n  let [initialText, setInitialText] = useState(\"\");\r\n\r\n  // Loading data\r\n  useEffect(() => {\r\n    setInitialText(props.initialText);\r\n    axios.get(apiUrl).then((result) => {\r\n      setData(result.data);\r\n      if (pageName === \"NGO-Home\") {\r\n        setData(result.data.complaints);\r\n      }\r\n    });\r\n  }, [apiUrl, setData, setInitialText]);\r\n  // Handle page click\r\n  function handlePageClick({ selected: selectedPage }) {\r\n    setCurrentPage(selectedPage);\r\n  }\r\n\r\n  const TogglePopUp = (event) => {\r\n    setSelectedEvent(event);\r\n    setPopUp(!popUp);\r\n  };\r\n  let PopUpContent;\r\n  if (popUp) {\r\n    PopUpContent = (\r\n      <SingleEvent TogglePopUp={TogglePopUp} eventData={selectedEvent} />\r\n    );\r\n  }\r\n\r\n  let HandleDropDownEvent = (option, reportId) => {\r\n    props.HandleComplaintDropDown(option, reportId);\r\n  };\r\n\r\n  let ShowOnMapEvent = (e, location) => {\r\n    props.ShowOnMap(e, location);\r\n  };\r\n\r\n  let offset = currentPage * PerPage;\r\n\r\n  let currentPageData;\r\n  if (pageName === \"NGO-Home\") {\r\n    currentPageData = data\r\n    .sort((a,b)=>a.reportDate.getTime()-b.reportDate.getTime())\r\n      .slice(offset, offset + PerPage)\r\n      .map((result, index) => {\r\n        console.log(result.reportDate);\r\n        return (\r\n          <NGORequestCard\r\n            result={result}\r\n            options={props.options}\r\n            ShowOnMap={ShowOnMapEvent}\r\n            initialText={initialText}\r\n            HandleComplaintDropDown={HandleDropDownEvent}\r\n            index={index}\r\n            key={index}\r\n          />\r\n        );\r\n      });\r\n  } else if (pageName === \"EventForm\") {\r\n    currentPageData = data\r\n    .sort((a,b)=>a.reportDate.getTime()-b.reportDate.getTime())\r\n      .slice(offset, offset + PerPage)\r\n      .map((result, index) => {\r\n        return (\r\n          <NGOEventCard\r\n            index={index}\r\n            TogglePopUp={TogglePopUp}\r\n            result={result}\r\n            key={index}\r\n          />\r\n        );\r\n      });\r\n  }\r\n\r\n  // total pages Calculator\r\n  let pageCount = Math.ceil(data.length / PerPage);\r\n\r\n  return (\r\n    <div className=\"pagination-component\">\r\n      {/* <h1>React Pagination</h1> */}\r\n      {currentPageData}\r\n      {PopUpContent}\r\n      <ReactPaginate\r\n        previousLabel={`<`}\r\n        nextLabel={`>`}\r\n        pageCount={pageCount}\r\n        onPageChange={handlePageClick}\r\n        containerClassName={`pagination-nav-container`}\r\n        previousLinkClassName={`pagination-prev`}\r\n        nextLinkClassName={`pagination-next`}\r\n        disabledClassName={`pagination-disabled`}\r\n        activeClassName={`pagination-active`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Pagination;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}