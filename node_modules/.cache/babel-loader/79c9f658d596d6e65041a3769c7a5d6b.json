{"ast":null,"code":"import _slicedToArray from\"C:/Users/param/OneDrive/Documents/sem3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useEffect}from\"react\";import axios from\"axios\";import{getApiPath,getLoggedInUser}from\"../../../Common\";import{Link}from\"react-router-dom\";import ReportIcon from\"../../images/Report_Icon_UserSettings.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Reports=function Reports(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userComplaints=_useState2[0],setUserComplaints=_useState2[1];useEffect(function(e){var loggedInUser=getLoggedInUser();if(loggedInUser!==\"\"){var fetchReportUrl=getApiPath()+\"complaint/getReports/\".concat(loggedInUser._id);axios.get(fetchReportUrl).then(function(res){setUserComplaints(res.data.complaints);}).catch(function(err){alert(\"Unable to fetch requested complaints\");console.log(err);});}},[]);var RenderComplaints=function RenderComplaints(){var loggedInUser=getLoggedInUser();if(loggedInUser!==\"\"){return userComplaints.splice(0,3).map(function(complaints,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"caseWrapper\",children:[/*#__PURE__*/_jsx(\"h4\",{children:complaints.title}),/*#__PURE__*/_jsx(\"button\",{className:\"ReportIconBtn\",children:/*#__PURE__*/_jsx(\"img\",{src:ReportIcon,alt:complaints.title})})]},idx);});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"caseWrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No Complaints Yet.\"})});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"userReportContainer\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reported Cases\"}),/*#__PURE__*/_jsx(\"div\",{className:\"CasesContainer\",children:RenderComplaints()}),/*#__PURE__*/_jsx(Link,{className:\"ViewAllBtn\",to:\"/allReports\",children:\"View All\"})]});};export default Reports;","map":{"version":3,"names":["React","useState","useEffect","axios","getApiPath","getLoggedInUser","Link","ReportIcon","Reports","userComplaints","setUserComplaints","e","loggedInUser","fetchReportUrl","_id","get","then","res","data","complaints","catch","err","alert","console","log","RenderComplaints","splice","map","idx","title"],"sources":["C:/Users/param/OneDrive/Documents/sem3/client/src/components/User/Settings/Reports.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { getApiPath, getLoggedInUser } from \"../../../Common\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReportIcon from \"../../images/Report_Icon_UserSettings.png\";\r\n\r\nconst Reports = () => {\r\n  const [userComplaints, setUserComplaints] = useState([]);\r\n  useEffect((e) => {\r\n    let loggedInUser = getLoggedInUser();\r\n    if (loggedInUser !== \"\") {\r\n      const fetchReportUrl =\r\n        getApiPath() + `complaint/getReports/${loggedInUser._id}`;\r\n      axios\r\n        .get(fetchReportUrl)\r\n        .then((res) => {\r\n          setUserComplaints(res.data.complaints);\r\n        })\r\n        .catch((err) => {\r\n          alert(\"Unable to fetch requested complaints\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const RenderComplaints = () => {\r\n    let loggedInUser = getLoggedInUser();\r\n    if (loggedInUser !== \"\") {\r\n      return userComplaints.splice(0, 3).map((complaints, idx) => {\r\n        return (\r\n          <div key={idx} className=\"caseWrapper\">\r\n            <h4>{complaints.title}</h4>\r\n            <button className=\"ReportIconBtn\">\r\n              <img src={ReportIcon} alt={complaints.title} />\r\n            </button>\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return (\r\n        <div className=\"caseWrapper\">\r\n          <p>No Complaints Yet.</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"userReportContainer\">\r\n      <h3>Reported Cases</h3>\r\n      <div className=\"CasesContainer\">{RenderComplaints()}</div>\r\n      <Link className=\"ViewAllBtn\" to=\"/allReports\">\r\n        View All\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"mIAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,eAArB,KAA4C,iBAA5C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,WAAP,KAAuB,2CAAvB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAA4CP,QAAQ,CAAC,EAAD,CAApD,wCAAOQ,cAAP,eAAuBC,iBAAvB,eACAR,SAAS,CAAC,SAACS,CAAD,CAAO,CACf,GAAIC,aAAY,CAAGP,eAAe,EAAlC,CACA,GAAIO,YAAY,GAAK,EAArB,CAAyB,CACvB,GAAMC,eAAc,CAClBT,UAAU,kCAA6BQ,YAAY,CAACE,GAA1C,CADZ,CAEAX,KAAK,CACFY,GADH,CACOF,cADP,EAEGG,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbP,iBAAiB,CAACO,GAAG,CAACC,IAAJ,CAASC,UAAV,CAAjB,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdC,KAAK,CAAC,sCAAD,CAAL,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CARH,EASD,CACF,CAfQ,CAeN,EAfM,CAAT,CAiBA,GAAMI,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,GAAIb,aAAY,CAAGP,eAAe,EAAlC,CACA,GAAIO,YAAY,GAAK,EAArB,CAAyB,CACvB,MAAOH,eAAc,CAACiB,MAAf,CAAsB,CAAtB,CAAyB,CAAzB,EAA4BC,GAA5B,CAAgC,SAACR,UAAD,CAAaS,GAAb,CAAqB,CAC1D,mBACE,aAAe,SAAS,CAAC,aAAzB,wBACE,oBAAKT,UAAU,CAACU,KAAhB,EADF,cAEE,eAAQ,SAAS,CAAC,eAAlB,uBACE,YAAK,GAAG,CAAEtB,UAAV,CAAsB,GAAG,CAAEY,UAAU,CAACU,KAAtC,EADF,EAFF,GAAUD,GAAV,CADF,CAQD,CATM,CAAP,CAUD,CAXD,IAWO,CACL,mBACE,YAAK,SAAS,CAAC,aAAf,uBACE,yCADF,EADF,CAKD,CACF,CApBD,CAsBA,mBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,sCADF,cAEE,YAAK,SAAS,CAAC,gBAAf,UAAiCH,gBAAgB,EAAjD,EAFF,cAGE,KAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,CAA6B,EAAE,CAAC,aAAhC,sBAHF,GADF,CASD,CAlDD,CAoDA,cAAejB,QAAf"},"metadata":{},"sourceType":"module"}